{% extends 'base.html' %} {% block start %}
<div class="container mt-4">
  <h1 class="text-center">Dashboard</h1>

  <div class="row mt-4">
    <div class="col-md-12">
      <select id="project-filter" class="form-select mb-3">
        <option value="all">All Projects</option>
        <option value="owned">Owned Projects</option>
        <option value="member">Member Projects</option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h2>Projects</h2>
      {% if projects %} {% for project in projects %}
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">{{ project.title }}</h5>
          <p class="card-text">{{ project.description }}</p>
        </div>
      </div>
      {% endfor %} {% else %}
      <p>No projects found.</p>
      {% endif %}
    </div>
  </div>
</div>

<style>
  .text-center {
    text-align: center;
  }

  .mt-4 {
    margin-top: 4rem;
  }

  .mb-3 {
    margin-bottom: 1rem;
  }

  .form-select {
    width: 100%;
    max-width: 300px;
  }

  .card {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 1rem;
    background-color: #f8f9fa;
  }
</style>

<script>
  // JavaScript code to handle the project filter
  const projectFilter = document.getElementById("project-filter");

  projectFilter.addEventListener("change", () => {
    const selectedFilter = projectFilter.value;
    const url = `/projects/dashboard/${selectedFilter}/`;
    window.location.href = url;
  });

  // Update the dropdown title based on the current filter
  const currentFilter = "{{ filter_param }}";
  projectFilter.value = currentFilter;
</script>

{% endblock %}
